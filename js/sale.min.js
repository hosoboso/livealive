{
//セール＆ティッカー表示用JavaScript sale.js min版

let
//それぞれのハードのセール終了日を記述、Switch,PS4,Steamの順
t=[[2025,12,22],[2025,12,22],[2025,12,3],],

//セール価格　変更あったら書き直す　カンマありOK
e=["2,992","2,992","2,992"],

//テンプレここまで----------------------
n=new Date,a=document,l=[];for(let $=0;$<t.length;$++)l[$]=new Date(t[$][0],t[$][1]-1,t[$][2]).getTime()-n.getTime(),l[$]+=2!=$?864e5:"";let r;if(l.every(e=>e<0)||-540!=n.getTimezoneOffset())r="",a.getElementById("ti").replaceChildren();else{a.getElementById("news").insertAdjacentHTML("afterbegin","　");let i=a.createElement("style"),o=[".saleinfo","padding:","box-shadow:initial;","background-color:","border:1px solid",];a.head.appendChild(i),i.textContent=`#news {width:100%;opacity:0;transition:opacity 0.8s;margin:.2em;}#ticker {margin:.4em;width:98%;border:#93a1a1 1px solid;border-radius:.4em;background-color:#fff;}${o[0]}{position:relative;${o[1]}1em .2em 0 .2em;border:3px solid #052468;display:inline-block;}${o[0]}box{position:absolute;top:-3px;left:-3px;height:24px;${o[1]}0 1em;color:#fff;background:#052468;}${o[0]} table{margin:1em 0 .2em 0;${o[2]}border-collapse:collapse;}${o[0]} th{${o[4]} #062D82;${o[3]}#AEC0E8;${o[1]}.2em;text-align:center;${o[2]}}${o[0]} tr{${o[3]}#fafafa;${o[4]} #062D82;${o[2]}}${o[0]} table tr:nth-child(even){${o[3]}#f0f2f7;}${o[0]} td{${o[4]} #062D82;${o[1]}.5em;${o[2]}}`;let d=[];for(let p=0;p<e.length;p++)d[p]=`${e[p]}円<br>（${Math.round(100*(1-Number(e[p].replace(/\D/,""))/7480))}％オフ）`;let s=[`-jp.nintendo.com/item/software/D70010000048915" target="_blank">Nintendo Switch版`,`.playstation.com/ja-jp/product/JP0082-PPSA08176_00-PS5JP00LIVEALIVE" target="_blank">PS4＆PS5版`,`.steampowered.com/app/2014380/_/" target="_blank">Steam版`,],c="";a.title.match(/SFC版/)&&(c="リメイク版");let h=a.querySelector("#saleposition"),m=a.createElement("div");m.className="saleinfo",h.appendChild(m);let _=a.createElement("span");_.className="saleinfobox",_.textContent=c+"「ライブアライブ」セール情報",m.appendChild(_);let f=a.createElement("table"),g=a.createElement("thead"),b=a.createElement("tr"),u=["ハード","セール価格<br>（税込）","通常価格<br>（税込）","セール終了日",];u.forEach((e,t)=>{let n=a.createElement("th");n.innerHTML=e,b.appendChild(n)}),g.appendChild(b),f.appendChild(g);let E=a.createElement("tbody"),y=[[],[],[],],C=`23時59分`,w=[],x=[];for(let k=0;k<t.length;k++)l[k]>=0&&(w[k]=t[k][0]!=n.getFullYear()?`${t[k][0]}年`:"",2==k&&(C=T(t[2][0],t[2][1],t[2][2])?`午前2時00分`:`午前3時00分`),y[k].push(`<a href="https://store${s[k]}</a>`),y[k].push(`${d[k]}`),y[k].push(`7,480円`),y[k].push(`${w[k]}${t[k][1]}月${t[k][2]}日${L(t[k][0],t[k][1],t[k][2])}${C}`),x.push(`<a class="external-link" href="https://store${s[k]}</a>セール中 ${w[k]}${t[k][1]}月${t[k][2]}日${L(t[k][0],t[k][1],t[k][2])}${C}まで`));y.forEach((e,t)=>{let n=a.createElement("tr");e.forEach((e,t)=>{let l=a.createElement("td");l.innerHTML=e,n.appendChild(l)}),E.appendChild(n)}),f.appendChild(E),m.appendChild(f),1===x.length&&x.unshift("ライブアライブ セール情報");let D=a.getElementById("news"),S=0;function P(){D.style.opacity=0,setTimeout(()=>{D.innerHTML=x[S],D.style.opacity=1,S=(S+1)%x.length},800)}setInterval(P,5e3),P()}function T(e,t,n){let a=new Date(e,2,1).getDay(),l=new Date(e,10,1).getDay(),$=!1;return(4<=t&&t<=10||3==t&&(0==a?8:15-a)<=n||11==t&&n<=(0==l?1:8-l))&&($=!0),$}function L(e,t,n){return"("+["日","月","火","水","木","金","土",][new Date(e,t-1,n).getDay()]+")"}}