//原始編　アイテム合成の素材個数計算 SFC・リメイク版共通 min版
{let e=document,t=e.querySelectorAll('input[type="number"]');t.forEach(e=>{e.addEventListener("input",function(){let t=e.value;t.length>2&&(e.value=t.slice(0,2))})});let l=["木の棒","ホネ","ケモノのツノ","ケモノのキバ","ケガワ","かたい石","かたいカワ",],_=["かわひも","つけムナゲ","つけムナゲ","つけムナゲ","ぼいんビーナス","メラメラこんぼう","ウホホマスク","ウホホマスク","カチンコケース","ガツングローブ","キバのネックレス","キバキバこんぼう","ギギガガのワッカ","ギギガガのワッカ","ケモノかぶり","ケモノかぶり","ツンツンヤリ","ツンツンヤリ","ドカドカオノ","ハナかざり","ハナかざり","ハナかざり","ビリビリまきびし","ブンブンナイフ","ブンブンホネ","ブスブスヤリ","ブスブスヤリ","ペシペシムチ","ボーラ","ポコポコドラム","ポコポコドラム","石器ナイフ","野性アーマー","野性ドレス","野性バッグ",],m=["ケガワ + 石器ナイフ←ホネ + かたい石","ケモノのキバ + ケガワ","ケガワ + かたい石","ケガワ + かたいカワ","かたい石 + 石器ナイフ","木の棒 + ケガワ","ケモノのツノ + かたいカワ","ケモノのキバ + かたいカワ","ケモノのツノ + 石器ナイフ","かたい石 + かたいカワ","ケモノのキバ + かわひも","木の棒 + ケモノのキバ","ホネ + ケモノのツノ","ケモノのツノ + かたい石","ホネ + ケガワ","ケモノのツノ + ケガワ","木の棒 + ホネ","木の棒 + ケモノのツノ","木の棒 + かたい石","ホネ + ケモノのキバ","ケモノのツノ + ケモノのキバ","ケモノのキバ + かたい石","ケモノのキバ + 石器ナイフ","かわひも + 石器ナイフ","ホネ + かわひも","木の棒 + 石器ナイフ","ホネ + 石器ナイフ","木の棒 + かわひも","かたい石 + かわひも","木の棒 + かたいカワ","ホネ + かたいカワ","ホネ + かたい石","かたいカワ + 石器ナイフ","ケガワ + かわひも","かたいカワ + かわひも",];function n(e){let t=[/&/g,/</g,/>/g,/"/g,/'/g,],l=["&amp;","&lt;","&gt;","&quot;","&#39;",];for(let _=0;_<t.length;_++)e=e.replace(t[_],l[_]);return e}e.getElementById("cal").addEventListener("click",()=>{e.getElementById("view0").replaceChildren();let t=[n(e.getElementById("item0").value),n(e.getElementById("item1_1").value),n(e.getElementById("item1_2").value),n(e.getElementById("item1_3").value),n(e.getElementById("item2").value),n(e.getElementById("item3").value),n(e.getElementById("item4_1").value),n(e.getElementById("item4_2").value),n(e.getElementById("item5").value),n(e.getElementById("item6").value),n(e.getElementById("item7").value),n(e.getElementById("item8").value),n(e.getElementById("item9_1").value),n(e.getElementById("item9_2").value),n(e.getElementById("item10_1").value),n(e.getElementById("item10_2").value),n(e.getElementById("item11_1").value),n(e.getElementById("item11_2").value),n(e.getElementById("item12").value),n(e.getElementById("item13_1").value),n(e.getElementById("item13_2").value),n(e.getElementById("item13_3").value),n(e.getElementById("item14").value),n(e.getElementById("item15").value),n(e.getElementById("item16").value),n(e.getElementById("item17_1").value),n(e.getElementById("item17_2").value),n(e.getElementById("item18").value),n(e.getElementById("item19").value),n(e.getElementById("item20_1").value),n(e.getElementById("item20_2").value),n(e.getElementById("item21").value),n(e.getElementById("item22").value),n(e.getElementById("item23").value),n(e.getElementById("item24").value),],a;if(t.every(e=>/^[1-9][0-9]?$|^0$/.test(e))){let u=[];for(let $=0;$<t.length;$++)u[$]=Number(t[$]);let g=Array(l.length).fill(0),y=0,d=0;for(g[4]+=u[0],g[1]+=u[0],g[5]+=u[0],g[3]+=u[1],g[4]+=u[1],g[4]+=u[2],g[5]+=u[2],g[4]+=u[3],g[6]+=u[3],g[5]+=2*u[4],g[1]+=u[4],y+=u[4],g[0]+=u[5],g[4]+=u[5],g[2]+=u[6],g[6]+=u[6],g[3]+=u[7],g[6]+=u[7],g[2]+=u[8],g[1]+=u[8],g[5]+=u[8],y+=u[8],g[5]+=u[9],g[6]+=u[9],g[3]+=u[10],g[4]+=u[10],g[1]+=u[10],g[5]+=u[10],y+=u[10],d+=u[10],g[0]+=u[11],g[3]+=u[11],g[1]+=u[12],g[2]+=u[12],g[2]+=u[13],g[5]+=u[13],g[1]+=u[14],g[4]+=u[14],g[2]+=u[15],g[4]+=u[15],g[0]+=u[16],g[1]+=u[16],g[0]+=u[17],g[2]+=u[17],g[0]+=u[18],g[5]+=u[18],g[1]+=u[19],g[3]+=u[19],g[2]+=u[20],g[3]+=u[20],g[3]+=u[21],g[5]+=u[21],g[3]+=u[22],g[1]+=u[22],g[5]+=u[22],y+=u[22],g[4]+=u[23],g[1]+=2*u[23],g[5]+=2*u[23],y+=u[23],g[1]+=u[24],g[4]+=u[24],g[1]+=u[24],g[5]+=u[24],y+=u[24],d+=u[24],g[0]+=u[25],g[1]+=u[25],g[5]+=u[25],g[1]+=2*u[26],g[5]+=u[26],y+=u[25],y+=u[26],g[0]+=u[27],g[4]+=u[27],g[1]+=u[27],g[5]+=u[27],y+=u[27],d+=u[27],g[5]+=u[28],g[4]+=u[28],g[1]+=u[28],g[5]+=u[28],y+=u[28],d+=u[28],g[0]+=u[29],g[6]+=u[29],g[1]+=u[30],g[6]+=u[30],g[1]+=u[31],g[5]+=u[31],g[6]+=u[32],g[1]+=u[32],g[5]+=u[32],y+=u[32],g[4]+=2*u[33],g[1]+=u[33],g[5]+=u[33],y+=u[33],d+=u[33],g[6]+=u[34],g[4]+=u[34],g[1]+=u[34],g[5]+=u[34],y+=u[34],d+=u[34],a=`<h5>必要な材料アイテムの個数</h5><ul>`,i=0;i<g.length;i++)a+=`<li>${l[i]} : ${g[i]}</li>`;a+="</ul>";let v="";if(e.getElementById("steps").checked&&u.some(e=>e>0)){v+=`<h5>合成手順</h5><p>（チェックボックスは実際の合成時にご利用ください）</p>`,(y>0||d>0)&&(v+=`<p>最初に、合成素材になる「石器ナイフ」`,d>0&&(v+=`「かわひも」`),v+=`を作る</p><ul style="list-style-type:none;padding-left:0.2em;">`);let E="";y>0&&(E=`<li><label><input type="checkbox"/>石器ナイフ←ホネ + かたい石 : ${y}回合成</label></li>`,0==d&&(E+=`</ul><p>以降、他アイテムを合成</p>`));let B="";d>0&&(B=`<li><label><input type="checkbox"/>かわひも←ケガワ + 石器ナイフ : ${d}回合成</label></li></ul><p>以降、他アイテムを合成</p>`),v+=E+B,v+='<ul style="list-style-type:none;padding-left:0.2em;">';let I=!1,p="",c="";for(let r=0;r<_.length;r++)u[r]>0&&(0!=r&&31!=r&&(v+=`<li><label><input type="checkbox"/>${_[r]}←${m[r]} : ${u[r]}回合成</label></li>`),31==r&&(p+=`<li><label><input type="checkbox"/>${_[31]}※←${m[31]} : ${u[31]}回合成</label></li>`,I=!0),0==r&&(c+=`<li><label><input type="checkbox"/>${_[0]}※←${m[0]} : ${u[0]}回合成</label></li>`,I=!0));v+=`${p}${c}</ul>`,I&&(v+=`最後の※付きアイテムは他の合成アイテムの素材とは別カウントで計算した分`)}a+=v}else a=`入力フォームに空白か、<br>0～99以外の文字が含まれています。<br>全ての項目に0～99の整数の値を入力してから<br>再度ボタンをクリックしてください。`;e.getElementById("view0").insertAdjacentHTML("afterbegin",a)})}