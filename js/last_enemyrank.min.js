{let e=document,_=e.querySelectorAll('input[type="number"]');_.forEach(e=>{e.addEventListener("input",function(){let _=e.value;_.length>2&&(e.value=_.slice(0,2))})});let t='<img src="../icon/leaderflag.svg" class="flag" alt="LEADER">',l=["0","ザビエール\xd71",`オイディプス\xd71, ダイダロス\xd71, ${t}ポリディクティス\xd71`,"クイーンテイル\xd73","ポウンバード\xd72",`${t}ルビータイラント\xd71, ケルベロ\xd74`,"ヌーベルルミエル\xd71","ソウルイーター\xd72, ホラーバルブ\xd72","ファントム\xd71, 亡拳士\xd72","クロノレギオン\xd73","ベアナックル\xd71","猫又\xd74",`強腕戦車\xd72, ${t}メカサタケ９８\xd71`,"ブラキオペルタ\xd71, エントモパイラム\xd72","クイーンテイル\xd78","亡拳士\xd73, 猫又\xd72","ファントム\xd72, 亡拳士\xd74, 岩\xd72","グラシャラボラス\xd72",`${t}メカサタケ９８\xd71, 強腕戦車\xd71, 大顔面\xd73`,"エントモパイラム\xd72, ファントム\xd71","グラシャラボラス\xd71, ソウルイーター\xd74","ヌーベルルミエル\xd71, バーバリアン\xd76",`大顔面\xd73, ${t}マスタードラゴン\xd71`,"イシュタール\xd71","ベアナックル\xd71, ヌーベルルミエル\xd73","グラングラス\xd71, 大顔面\xd72","グラングラス\xd71, ホラーバルブ\xd72",`${t}ツナヨシ\xd71, おイヌ様\xd714`,"グラングラス\xd72","グラシャラボラス\xd72, ベアナックル\xd72","ピスタチオ\xd71, グラシャラボラス\xd74",`${t}ツナヨシ\xd71, ${t}ルビータイラント\xd71, おイヌ様\xd79, ケルベロ\xd74`,`${t}マスタードラゴン\xd71, ピスタチオ\xd72`,"グラングラス\xd71, バーバリアン\xd79",`${t}マスタードラゴン\xd72, ピスタチオ\xd75`,"ティタンブラッド\xd71","次元　源左衛門\xd73","コロコロムシ\xd71","次元　源左衛門\xd71, クロノレギオン\xd71, バーバリアン\xd72, ファントム\xd71",`${t}ティタンブラッド\xd71, ピスタチオ\xd714`,"ホラーシップ\xd71","バロクレスト\xd71, グラングラス\xd71","リンバースキュラ\xd74","バロクレスト\xd72","グラングラス\xd71, グラシャラボラス\xd71, 猫又\xd73",`岩\xd75, ${t}マスタードラゴン\xd74, ピスタチオ\xd76`,"ポワッシー\xd71",`岩\xd74, コロコロムシ\xd78, ピスタチオ\xd72, ${t}マスタードラゴン\xd71`,"ヘリオスハウント\xd72","次元　源左衛門\xd72, ソウルイーター\xd713","ホラーシップ\xd71, コロコロムシ\xd74","グラングラス\xd71, ベアナックル\xd71, ヌーベルルミエル\xd71, ケルベロ\xd712","ワールダーク\xd71","バロクレスト\xd71, 次元　源左衛門\xd71, 亡拳士\xd78","イシュタール\xd71, ティタンブラッド\xd71","ポワッシー\xd71, バロクレスト\xd71, リンバースキュラ\xd72, ブラキオペルタ\xd71","ワールダーク\xd71, イシュタール\xd71, ホラーシップ\xd71"],n=["0",[l[1],l[2],l[3],l[4],l[5],l[6],l[7]],[l[3],l[4],l[5],l[6],l[7],l[8],l[9],l[14],l[15],l[12],l[10],l[16]],[l[14],l[11],l[19],l[18],l[9],l[10],l[8],l[13]],[l[11],l[19],l[12],l[20],l[17],l[10],l[9],l[18]],[l[11],l[24],l[20],l[13],l[21],l[22],l[12],l[23]],[l[13],l[26],l[25],l[24],l[21],l[17],l[22],l[23]],[l[27],l[31],l[28],l[30],l[22],l[26],l[29],l[23]],[l[33],l[27],l[31],l[29],l[30],l[28],l[32],l[34]],[l[38],l[37],l[35],l[36],l[31],l[33],l[32],l[34]],[l[38],l[37],l[41],l[33],l[35],l[39],l[36],l[40]],[l[44],l[38],l[41],l[43],l[36],l[37],l[42],l[40]],[l[49],l[41],l[44],l[42],l[45],l[43],l[40],l[46]],[l[46],l[42],l[47],l[51],l[49],l[43],l[48],l[50]],[l[48],l[51],l[47],l[53],l[50],l[45],l[46],l[52]],[l[49],l[51],l[45],l[54],l[46],l[53],l[48],l[52]],[l[53],l[48],l[49],l[54],l[51],l[55],l[52],l[56]]],d=[0,5,5,6,10,7,8,7,10,11,11,11,13,11,9,10,11,15,13,13,13,11,12,20,12,14,13,14,15,14,17,17,17,18,18,19,18,17,20,20,22,21,22,23,22,25,25,26,25,25,27,27,32,28,29,30,35,];function r(){return e.getElementById("num1").checked?1:e.getElementById("num2").checked?2:e.getElementById("num3").checked?3:4}function i(e,_){let t=5,l=Number(e),n=_-l;return 2<=n?t=Math.min(16*n+8,100):-2<=n&&n<=1&&(t=Math.floor(36/(3-n))),t}function m(e){return e=(e=(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")).replace(/'/g,"&#39;")}e.getElementById("radiobtn").addEventListener("change",()=>{e.getElementById("view1").replaceChildren();let _=r(),t=["0",e.getElementById("sub-form1").style,e.getElementById("sub-form2").style,e.getElementById("sub-form3").style,e.getElementById("sub-form4").style];for(let l=0;l<5;l++)t[l].visibility=_<l?"hidden":"visible";e.getElementById("view1").insertAdjacentHTML("afterbegin",`<div style="color:#777;border:1px solid gray;padding:0.5em;margin:1em 0.2em;display:inline-block;">上ボタンをクリックで<br>ここに結果が表示されます。</div>`)}),e.getElementById("rankcal").addEventListener("click",()=>{e.getElementById("view1").replaceChildren();let _=window.location.href.split("/").pop(),t=["0",Number(m(e.getElementById("lev1").value)),Number(m(e.getElementById("lev2").value)),Number(m(e.getElementById("lev3").value)),Number(m(e.getElementById("lev4").value)),],a=r(),c="";for(let $=0;$<a;$++)c+=`<th>${$+1}</th>`;let g="<tr><th>敵パーティ</th><th>敵パーティ<br>レベル[仮]</th></tr>";e.getElementById("expcal").checked&&(g=`<tr><th rowspan="2">敵パーティ</th><th rowspan="2">敵パーティ<br>レベル[仮]</th><th colspan="${a}">取得経験値</th></tr><tr>${c}</tr>`);let o=0;for(let h=1;h<a+1;h++)o+=t[h];let s=[];for(let p=0;p<3;p++)s[p]=o+4*p;let y=[];for(let u=0;u<3;u++)s[u]<=11?y[u]=1:12<=s[u]&&s[u]<=23?y[u]=2:24<=s[u]&&s[u]<=127?y[u]=Math.floor(s[u]/8):y[u]=16;let f=[,,,].fill(`<table><thead>${g}</thead><tbody>`);for(let E=0;E<3;E++)for(let b=0;b<n[y[E]].length;b++){let v="";if(e.getElementById("expcal").checked)for(let B=1;B<a+1;B++)v+="<td>"+i(t[B],d[l.indexOf(n[y[E]][b])])+"</td>";f[E]+=`<tr><td>${n[y[E]][b]}</td><td>${d[l.indexOf(n[y[E]][b])]}</td>${v}</tr>`}let I=/^[1-9][0-9]?$/,k,x=["<p>パーティのレベル合計値：","敵パーティ編成ランク：","</tbody></table>"];if((!e.getElementById("num4").checked||I.test(t[1])&&I.test(t[2])&&I.test(t[3])&&I.test(t[4]))&&(!e.getElementById("num3").checked||I.test(t[1])&&I.test(t[2])&&I.test(t[3]))&&(!e.getElementById("num2").checked||I.test(t[1])&&I.test(t[2]))&&(!e.getElementById("num1").checked||I.test(t[1]))){if("dungeon01.html"==_||"dungeon05.html"==_||"dungeon06.html"==_)k=`${x[0]}${o}<br>${x[1]}${y[2]}</p>${f[2]}${x[2]}`;else if("dungeon03.html"==_){let w="";if(e.getElementById("expcal").checked)for(let L=1;L<a+1;L++)w+="<td>"+i(t[L],10)+"</td>";k=`${x[0]}${o}<br>${x[1]}${y[2]}</p>${f[2]}<tr><td>影\xd71</td><td>10</td>${w}</tr>${x[2]}<p>※影が出現するのはパーティにおぼろ丸が居る時のみ</p>`}else k="maou.html"==_?`${x[0]}${o}<br>${x[1]}${y[1]}</p>${f[1]}${x[2]}`:`${x[0]}${o}</p><h5>廃墟の町（城）・静寂の森・雪山</h5><p>${x[1]}${y[0]}</p>${f[0]}${x[2]}<h5>心・本能・力・鍵のダンジョン</h5><p>${x[1]}${y[2]}<br>※鍵のダンジョンでパーティにおぼろ丸が居る時のみ「影\xd71」も出現する</p>${f[2]}${x[2]}<h5>魔王山</h5><p>${x[1]}${y[1]}</p>${f[1]}${x[2]}`}else k=`<div style="border:1px solid gray;padding:0.5em;margin:1em 0.2em;display:inline-block;">全ての項目に1～99の整数の値を入力してください。</div>`;e.getElementById("view1").insertAdjacentHTML("afterbegin",k)})}