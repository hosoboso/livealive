<!DOCTYPE html>
<html lang="ja">
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="keywords" content="ライブ・ア・ライブ,ライブアライブ,LIVE A LIVE,攻略,スーパーファミコン,スーファミ,SFC,バーチャルコンソール">
<meta name="format-detection" content="telephone=no">
<meta name="msapplication-TileImage" content="img/social.png">
<meta name="description" content="スーパーファミコン版「ライブ・ア・ライブ」の攻略です。システム解説・隠しボス攻略・マップ画像あり。各シナリオのやりこみ、元ネタ＆雑学紹介コーナーなども掲載。バーチャルコンソール版対応。">
<meta property="og:title" content="ライブ・ア・ライブ（SFC版） 攻略メモ帳 &gt; プログラミング関係の表記及び解説">
<meta property="og:type" content="website">
<meta property="og:url" content="https://livealivem.stars.ne.jp/sfc/">
<meta property="og:image" content="https://livealivem.stars.ne.jp/sfc/img/social.png">
<meta property="og:description" content="スーパーファミコン版「ライブ・ア・ライブ」の攻略です。システム解説・隠しボス攻略・マップ画像あり。各シナリオのやりこみ、元ネタ＆雑学紹介コーナーなども掲載。バーチャルコンソール版対応。">
<meta property="og:locale" content="ja_JP">
<meta name="twitter:card" content="Summary">
<meta name="twitter:title" content="ライブ・ア・ライブ（SFC版） 攻略メモ帳 &gt; プログラミング関係の表記及び解説">
<meta name="twitter:description" content="スーパーファミコン版「ライブ・ア・ライブ」の攻略です。システム解説・隠しボス攻略・マップ画像あり。各シナリオのやりこみ、元ネタ＆雑学紹介コーナーなども掲載。バーチャルコンソール版対応。">
<meta name="twitter:image" content="https://livealivem.stars.ne.jp/sfc/img/social.png" />
<meta name="twitter:url" content="https://livealivem.stars.ne.jp/sfc/">
<link rel="icon" href="img/favicon.svg" type="image/svg+xml">
<link rel="icon alternate" href="img/social.png" type="image/png">
<title>ライブ・ア・ライブ（SFC版） 攻略メモ帳 &gt; 戦闘関係 &gt; プログラミング関係の表記及び解説</title>
<link href="../css/main.min.css?20251129" rel="stylesheet">
<link href="../css/sfc.css" rel="stylesheet">
<link href="../css/cssmenu.css?20240801" rel="stylesheet">
<link href="../css/GEsubset.css?20231001" rel="stylesheet">
<link href="../css/calculation.css" rel="stylesheet">
<link href="../css/modal.css?20250712" rel="stylesheet">
</head>
<body>
<div class="maincontainer">

<div id="header">
<div id="topsection">

<div class="innertube">
<a href="index.html"><img alt="ライブ・ア・ライブ 攻略メモ帳" src="img/title.svg"></a>
</div>

</div>
</div>

<div id="contentcolumn">
<div class="innertube">

<nav class="droplinetabs">
<ul>
<li class="other"><a href="index.html">トップページ</a></li>
<li class="other"><button type="button">基礎知識</button>
	<ul>
		<li><a href="base01.html">基本操作とシナリオ</a></li>
		<li><a href="base07.html">メニュー画面</a></li>
		<li><a href="base02.html">データセーブ</a></li>
		<li><a href="base03.html">装備</a></li>
		<li><a href="base04.html">ステータス</a></li>
		<li><a href="base05.html">隊形</a></li>
		<li><a href="base06.html">アイテム</a></li>
	</ul>
</li>
<li class="here"><button type="button">戦闘関係</button>
	<ul>
		<li><a href="battle00.html">戦闘の基本</a></li>
		<li><a href="battle01.html">エンカウント</a></li>
		<li><a href="battle02.html">向き</a></li>
		<li><a href="battle03.html">ターン</a></li>
		<li><a href="battle04.html">技（その1）</a></li>
		<li><a href="battle04_2.html">技（その2）</a></li>
		<li><a href="battle05.html">状態異常</a></li>
		<li><a href="battle06.html">ステータス増減</a></li>
		<li><a href="battle07.html">フィールドダメージ</a></li>
		<li><a href="battle08.html">経験値</a></li>
		<li><a href="battle09.html">レベルとステータス上昇</a></li>
		<li><a href="battle10.html">回避属性</a></li>
		<li><a href="battle11.html">行動異常</a></li>
		<li><a href="battle12.html">BREAK DOWN</a></li>
		<li><a href="battle13.html">戦闘テクニック</a></li>
		<li><a href="program.html">プログラミング関係表記・解説</a></li>
	</ul>
</li>
</ul>
</nav>
</div>

<div class="maincontents">
<h1><a href="index.html">TOP</a> &gt; プログラミング関係の表記及び解説</h1>
<h2>プログラミング関係の表記及び解説</h2>

<p>本攻略のトップページでも紹介しているが、本作のデータや各種計算式（ダメージ量の算出方法など）は、以下ウェブサイト様に掲載されており、本攻略でも引用させていただいている。</p>

<ul>
	<li><a href="https://rodgersia.ninpou.jp/livealive/" target="_blank">世界の合言葉は森部</a></li>
	<li><a href="http://zsnsk.sakura.ne.jp/livealive/battle_system.html" target="_blank">ZsnsK's F**kin' Site</a></li>
</ul>

<p>ゲームを普通にプレイする上で、それらの詳しい計算式まで細かく把握する必要はない。<br>
どのステータスを上げたらどういう時に有利なのか、などといった大雑把な理屈がわかっていれば効率良く戦闘が進められる、という程度である。<br>
もし計算式まできちんと理解したいという場合、ある程度の数学・プログラミングの基礎知識が必要となる。<br>
ここでは計算式の表記方法や、プログラミングについて、軽く説明を載せておく。<br>
プログラミングについては素人同然の筆者なので、間違いがあるかもしれない。</p>

<ul>
	<li><a href="#01">演算子（計算記号）</a></li>
	<li><a href="#02">数学関数</a></li>
	<ul>
		<li><a href="#02_1">max()</a></li>
		<li><a href="#02_2">min()</a></li>
		<li><a href="#02_3">trunc()</a></li>
	</ul>
	<li><a href="#level">ダメージ量とレベルについて</a></li>
	<li><a href="#03">乱数</a></li>
	<li><a href="#04">確率</a></li>
	<li><a href="#05">ビット演算</a></li>
</ul>

<h3 id="01">演算子（計算記号）</h3>

<p>当攻略サイトでは、以下のように各演算子（計算記号）を表記する。</p>

<table>
<thead>
	<tr><th>記号</th><th>意味</th><th>例</th></tr>
</thead>
<tbody>
	<tr><td><span class="formula">+</span></td><td>足し算</td><td><span class="formula">11 + 4 = 15</span></td></tr>
	<tr><td><span class="formula">-</span></td><td>引き算</td><td><span class="formula">11 - 4 = 7</span></td></tr>
	<tr><td><span class="formula">*</span></td><td>掛け算</td><td><span class="formula">11 * 4 = 44</span></td></tr>
	<tr><td><span class="formula">/</span></td><td>割り算</td><td><span class="formula">11 / 4 = 2.75</span></td></tr>
	<tr><td><span class="formula">%</span></td><td>剰余<br>（割り算の余り）</td><td><span class="formula">11 % 4 = 3</span><br>（2余り3の「3」）</td></tr>
	<tr><td><span class="formula">^</span></td><td>べき乗/累乗<br>（<span class="formula">11<sup>4</sup></span>など）</td><td><span class="formula">11 ^ 4 = 14641</span></td></tr>
</tbody>
</table>

<p>本作の計算式の引用元ウェブサイト様での表記を基準とした表記だが、できるだけプログラミングの知識がなくてもわかりやすくしたつもりである。<br>
算数・数学で使う記号が、プログラミング言語ではまったく異なる意味になっていることがたまにあり、プログラミング初心者が混乱しがちである。<br>
そのため本攻略では、引用元ウェブサイト様に加え、その両方の折衷、表計算ソフトや関数電卓での表記を基準とした。</p>

<ul>
	<li>剰余演算子を「<span class="formula">%</span>」としているが、「<span class="formula">mod</span>」という表記をするプログラミング言語もある。</li>
	<li>べき乗/累乗を「<span class="formula">^</span>」としているが、プログラミング言語によっては「<span class="formula">^</span>」は別の意味の演算子になることに注意。<br>
	多くのプログラミング言語で、「<span class="formula">^</span>」は別の意味の演算子（排他的論理和XOR）である。<a href="https://ja.wikipedia.org/wiki/%E6%8E%92%E4%BB%96%E7%9A%84%E8%AB%96%E7%90%86%E5%92%8C" target="_blank">排他的論理和 - Wikipedia</a><br>
	PythonやJavaScriptだと、べき乗/累乗は「<span class="formula">11 ** 4</span>」、他に数学関数として「<span class="formula">pow(11, 4)</span>」でべき乗が提供されているプログラミング言語も多い。<br>
	一方、表計算ソフトや関数電卓では「<span class="formula">^</span>」でべき乗/累乗計算ができる。</li>
	<li>割り算の「<span class="formula">/</span>」については、引用元ウェブサイト様だとおそらく暗黙の了解で整数除算の演算子（割り算の商の算出）を意味していると思われるのだが、一般的には馴染みがないので、本攻略サイトでは算数・数学的な「<span class="formula">÷</span>」の意味と同一としておく。<br>
	この点については後に<span class="formula">trunc()</span>の説明にて詳しく述べる。</li>
</ul>

<h3 id="02">数学関数</h3>

<p>本作の計算式に関係のある数学関数「<span class="formula">max()</span>」「<span class="formula">min()</span>」「<span class="formula">trunc()</span>」のみ紹介する。<br>
プログラミング言語により表記は異なるので、詳細は各プログラミング言語の解説参照。<br>
また、ここで紹介する関数は、一般的な表計算ソフトにも実装されており、セルに「<span class="formula">=max(5, 9, -10)</span>」と入力すると実行してくれる。</p>

<h4 id="02_1"><span class="formula">max()</span></h4>

<p>複数の値から最大値を求める関数。<br>
例えば<span class="formula">max(5, 9, -10)</span>は「5、9、-10の中で一番大きな数を選ぶ」という意味なので、<br>
<span class="formula">max(5, 9, -10) = 9</span><br>
である。</p>

<h4 id="02_2"><span class="formula">min()</span></h4>

<p>複数の値から最小値を求める関数。<br>
<span class="formula">min(5, 0.9, 10)</span>は「5、0.9、10の中で一番小さい数を選ぶ」という意味なので、<br>
<span class="formula">min(5, 0.9, 10) = 0.9</span><br>
である。</p>

<p>以上を踏まえた上で、<span class="formula">max()</span>と<span class="formula">min()</span>が登場するのは、本作の単発ダメージ量計算式である。</p>

<blockquote class="breakword">・単発ダメージ：<br>
(<span style="color:#6c6c75;">(</span>(min(max<span style="color:#6c6c75;">(</span>(8+技LV+自LV-敵LV),1<span style="color:#6c6c75;">)</span>,24)<wbr>*LV差係数/8+(自能力値*係数))<wbr>*(<span style="color:#6c6c75;">(</span>255-敵能力値<span style="color:#6c6c75;">)</span>/2)/256<span style="color:#6c6c75;">)</span>*2+攻撃力)<wbr>*乱数(1～1.25)<br>
（乱数幅は厳密には単発ダメージ*(0～63)/256）<br>
　・総ダメージ：<br>
単発ダメージ*ヒット数-防御力</blockquote>

<p>入り組んでいるのでわかりにくいのだが、<span class="formula">max()</span>は、<br>
<span class="formula">max((8+技LV+自LV-敵LV),1)</span><br>
の部分、つまり<span class="formula">(8+技LV+自LV-敵LV)</span>と<span class="formula">1</span>を比較して大きい方、の意味である。<br>
<span class="formula">min()</span>は、<br>
<span class="formula">min(max((8+技LV+自LV-敵LV),1),24)</span><br>
の部分、つまり<span class="formula">max((8+技LV+自LV-敵LV),1)</span>と<span class="formula">24</span>を比較して小さい方、の意味である。</p>

<p>もう少しわかりやすい話だと、本作におけるダメージ量の最大値が上げられる。<br>
上の通り、総ダメージ量は、「単発ダメージ*ヒット数-防御力」、つまり多段ヒットする技なら多段でヒットした分を掛け算してから、防御の値を引くことになるのだが、この時の計算値が999以上であったら、カウンターストップとなってダメージ量が999に変更される。<br>
つまり、総ダメージ量は厳密には、</p>

<span class="formula">総ダメージ = min(「単発ダメージ*ヒット数-防御力」, 999)</span>

<p>なのである。</p>

<h4 id="02_3"><span class="formula">trunc()</span></h4>

<p>小数点以下の端数を切り捨てる関数。<br>
<span class="formula">trunc(123.45)</span>は「<span class="formula">.45</span>」部分を削除して「<span class="formula">123</span>」になる。<br>
<span class="formula">trunc(9/2)</span>は、<span class="formula">9/2</span>の結果が<span class="formula">4.5</span>だから、「<span class="formula">.5</span>」が削除されて「<span class="formula">4</span>」となる。<br>
<span class="formula">trunc(100/20)</span>だったら、小数点以下の端数はないので、通常の割り算の結果と同じ「<span class="formula">5</span>」である。</p>

<p><span class="formula">trunc()</span>は、割り算だったら「商」の部分のことである。<br>
小学校では小数や分数を習う前、「<span class="formula">7÷2＝3　余り1</span>」のように割り算を計算しただろう。<br>
この「<span class="formula">3</span>」の部分が「商」であり、<span class="formula">trunc(7/2)</span>と等しい。</p>

<p>本作ではダメージ値計算や取得経験値の計算など、ゲーム内部で具体的な数値を算出する計算を行う時は、割り算の計算をするたびに、小数点以下の端数が出た時は切り捨てる処理をしている。<br>
これは「整数除算」とも呼ばれる処理方法である。<br>
すべての計算を終えた後に切り捨てではなく、計算式の途中に小数点以下の端数が出るとその度に行う。<br>
たとえば上で紹介したダメージ計算式、</p>

<p><span class="formula" style="word-break: keep-all;overflow-wrap: break-word;">(<span style="color:#6c6c75;">(</span>(min(max<span style="color:#6c6c75;">(</span>(8+技LV+自LV-敵LV)<wbr>,1<span style="color:#6c6c75;">)</span><wbr>,24)<wbr>*LV差係数/8+<wbr>(自能力値*係数))<wbr>*((255-敵能力値)/2)/256<span style="color:#6c6c75;">)</span><wbr>*2+攻撃力)<wbr>*乱数(1～1.25)</span></p>

<p>だが、実際には、</p>

<p><span class="formula" style="word-break: keep-all;overflow-wrap: break-word;">(<span style="font-weight:bold;color:red;">trunc</span><span style="color:#6c6c75;">(</span>(<wbr><span style="font-weight:bold;color:red;">trunc</span>(<wbr>min<span style="color:#6c6c75;">(</span><wbr>max((8+技LV+自LV-敵LV),1)<wbr>,24<span style="color:#6c6c75;">)</span><wbr>*LV差係数<span style="font-weight:bold;color:red;">/</span>8)<wbr>+(自能力値*係数))*<wbr><span style="font-weight:bold;color:red;">trunc</span>((255-敵能力値)<span style="font-weight:bold;color:red;">/</span>2)<span style="font-weight:bold;color:red;">/</span>256<span style="color:#6c6c75;">)</span>*2<wbr>+攻撃力)<wbr>*乱数(1～1.25)</span></p>

<p>のように計算する必要がある。<br>
<span class="formula">LV差係数/8</span>など、割り算の「<span class="formula">/</span>」があるなら必ず計算後に小数点以下切り捨てを行わなければならない。<br>
<span class="formula">trunc</span>を無視して最後まで計算した後に切り捨てたり、小数点以下を四捨五入すると、異なる答えになってしまうので注意していただきたい。</p>

<p>なぜわざわざ、毎回整数除算をするのかだが、おそらく「プログラミング言語では仕様上、除算では商を結果として出力するのが標準」だからだろう。詳細は後で記す。<br>
インターネットで調べた結果、スーパーファミコンのプログラムにはアセンブリ言語（アセンブラともいう。詳しくは<a href="https://ja.wikipedia.org/wiki/%E3%82%A2%E3%82%BB%E3%83%B3%E3%83%96%E3%83%AA%E8%A8%80%E8%AA%9E" target="_blank">アセンブリ言語 - Wikipedia</a>）が使われていた。<br>
スーパーファミコンのCPU（演算などを行う装置）は、65C816互換16ビットマイクロプロセッサ（厳密には「Ricoh 5A22」というカスタム版CPU）が使われていた。<a href="https://ja.wikipedia.org/wiki/65816_(%E3%82%B3%E3%83%B3%E3%83%94%E3%83%A5%E3%83%BC%E3%82%BF)" target="_blank">65816 (コンピュータ) - Wikipedia</a>を参照。<br>
アセンブリ言語はCPUにより仕様が変わるため、スーパーファミコンのプログラムは65C816向けのアセンブリ言語で書かれている。<br>
「65C816 アセンブラ」で検索すると、スーパーファミコンのプログラムの解説も見つかる。</p>

<ul>
	<li><a href="http://donkeyhacks.zouri.jp/databank/65C816/function/65c816timedivide.html" target="_blank">65C816命令表　ロード･ストア命令</a>（<a href="http://donkeyhacks.zouri.jp/html/Ja-jp/index.html" target="_blank">改造ドンキーの館</a>様）</li>
	<li><a href="https://ersanio.gitbook.io/assembly-for-the-snes/mathemathics-and-logic/math" target="_blank">Hardware math | Assembly for the SNES（英語）</a></li>
</ul>

<p>などによれば、65C816向けのアセンブリ言語で除算（割り算）を行うと、整数の商と余りを出力する。<br>
先に述べた通り、商はそのまま<span class="formula">trunc()</span>のことである。<br>
よって、本作における数値計算で割り算を行う場合、割り算の計算結果の商をそのまま採用しているので、切り捨て処理をしているように見えているだけ、ということなのだろう。</p>

<p>「プログラミング言語では仕様上、除算では商を結果として出力するのが標準」とはどういうことなのかについて、プログラミングの素人ながら説明する。<br>
スーパーファミコンの頃でも現代のコンピュータでも共通して、コンピュータは普段我々が使う10進数での計算ができず、2進数でしか計算できないため、10進数で小数点がある数値は2進数を用いた近似値計算をする。結果、整数以外の計算を行うと、わずかずつだが誤差が生まれる。整数ではこの問題は起こらない。<br>
この近似値のことを浮動小数点数という。<a href="https://ja.wikipedia.org/wiki/%E6%B5%AE%E5%8B%95%E5%B0%8F%E6%95%B0%E7%82%B9%E6%95%B0" target="_blank">浮動小数点数 - Wikipedia</a>など参照。<br>
浮動小数点数の問題を起こさないようにするため、整数同士の除算＝整数除算と決まっているプログラミング言語は多い。<br>
歴史のあるC言語（C++やC#も）、Java、比較的新しいプログラミング言語だとRustやGoなど。<br>
それらのプログラミング言語では、整数の計算か、浮動小数点数の計算かをきちんと区別してプログラムを書く必要がある。<br>
逆に、明記しないと切り捨てなしで小数点以下の数値を算出するJavaScriptやPythonでは、たとえば<span class="formula">5/2</span>を演算させると、自動的に5も2も整数ではなく浮動小数点数として扱われるので計算結果が2.5になるのである。<br>
ちなみにPythonだと<span class="formula">5&#x2f;&#x2f;2</span>とすれば、小数点以下切り捨て除算になる。</p>

<div class="place"><h5>計算例：</h5>

<p>キューブ（レベル7固定）が、「ボーリングだま」（攻撃力＋8）だけ装備した状態で、「スピンドライブ」をポウンバード（レベル7）に当てた時の単発ダメージを計算してみる。<br>
「スピンドライブ」の技LVは「8」、LV差係数は「12」、ダメージ依存値は味方側も敵側も「速」であり、レベル7のキューブの速は「18（＝自能力値）」、ポウンバードの速は「16（＝敵能力値）」となるので、最後の乱数以外の計算は、</p>

<p><span class="formula">trunc((trunc(min(max((8 + 8 + 7 - 7), 1), 24)* 12 / 8) + (18 * 1) ) * trunc((255 - 16) / 2)/ 256) * 2 + 8 = 46</span></p>

<p>ダメージ量は46となる。<br>
この値はポウンバードの正面に技を当てた時の計算値である。<br>
自LV（自身レベル）と敵LV（敵レベル）には向き補正が入る。<br>
向き補正の説明は、<span class="tri"><a href="battle02.html#02">戦闘関係 &gt; 向き &gt; 向き補正（側面補正と背面補正）</a></span>を参照のこと。<br>
ポウンバードの側面補正は2、背面補正は4なので、側面へのダメージ量を計算する場合は、「敵LV」から2を引く。</p>

<p><span class="formula">trunc((trunc(min( max((8 + 8 + 7 - (<span style="font-weight:bold;">7 - 2</span>)), 1), 24)* 12 / 8) + (18 * 1))*trunc((255 - 16) / 2)/ 256)* 2 + 8 = 48</span></p>

<p>側面へのダメージ量は48。<br>
更に背面へのダメージ量を計算すると、</p>

<p><span class="formula">trunc((trunc(min(max((8 + 8 + 7 - (<span style="font-weight:bold;">7 - 4</span>)), 1), 24)* 12 / 8) + (18 * 1))*trunc((255 - 16) / 2)/ 256 )* 2 + 8 = 52</span></p>

<p>背面へのダメージ量は52となった。<br>
「スピンドライブ」のヒット数は1なので、この単発ダメージ量に、乱数を掛け算すると、ゲーム内での実際のダメージ量となる。<br>
正面からの攻撃なら、</p>

<p><span class="formula">46 + (46 * (0～63の乱数) / 256)</span></p>

<p>である。<br>
つまり最大値は、乱数が63の時であるから、</p>

<p><span class="formula">46 + trunc(46 * 63 / 256) = 57</span></p>

<p>最小値は乱数が0の時であり、結局単発ダメージ量と同じだが、</p>

<p><span class="formula">46 + trunc(46 * 0 / 256) = 46</span></p>

<p>ダメージ量は46～57の間でランダム、ということになる。<br>
今回の計算では問題なかったが、先に総ダメージ量計算方法で述べた通り、実際にはダメージ量は最大で999であるから、計算値が999以上となった場合は999にダメージ量が変更される。<br>
更に<span class="tri"><a href="battle10.html">回避属性</a></span>での半減の計算が必要な場合もあるが、ここでは省く。</p>

<p>なお、プログラミング環境がなくても、ExcelやLibreOffice Calc、Google スプレッドシートなどの表計算ソフトなら、セルに、<br>
<span class="formula">=trunc((trunc(min(max((8 + 8 + 7 - 7), 1), 24)*12/8)+(18*1)) * trunc((255 - 16)/2)/256) * 2 + 8</span><br>
のように、計算式を入力すれば計算してくれる。</p>
</div>

<p>ランダム固定ダメージを与えるサモの「ほいこーろー」及び、敵が使う技「わいろ」は、上の計算方法には従わない。<span class="tri"><a href="battle04.html#hoi">技 &gt; サモの「ほいこーろー」について</a></span>を参照。<br>
最終編のラストボス戦におけるオディオモールも例外で、ダメージ量計算を無視して、自身へのダメージ量もHP回復量も1Hitあたり1にするが、「ほいこーろー」のみ通常通りのダメージを与えることが可能。</p>

<p>HP回復量の計算式は、</p>

<blockquote>(回復係数(LV差係数と同じ)*4*乱数(1～1.25) (敵が使用する場合は、回復係数*乱数)<br>（乱数幅は厳密には単発ダメージ*(0～63)/256）</blockquote>

<p>技に設定されている「LV差係数」だけが回復量計算にかかわるため、使用者や回復してもらう側のステータス、向き補正等は一切関係しないということになる。<br>
例えばアキラの「ヒールタッチ」なら、LV差係数が48と設定されているので、乱数最大と最小をそれぞれ計算してみると、</p>

<p>乱数最大（63の時）：<br>
<span class="formula">48 * 4 + trunc(48 * 4 * 63 / 256) = 239</span></p>

<p>乱数最小（0の時）：<br>
<span class="formula">48 * 4 + trunc(48 * 4 * 0 / 256) = 192</span></p>

<p>アキラや回復される側のステータスに関係なく、回復量は192～239の間でランダムということになる。</p>

<p>回復量計算式のみ、味方と敵とで計算式が異なるため、最終編のオルステッド主人公時にラストボスたちを味方キャラとして操作する時には、回復技の計算が味方側の計算式で計算されることになる。<br>
例えば西部編ラストボスのO・ディオが使う回復技「突撃ラッパ」は、LV差係数が20なので、西部編ラストバトルで敵として使用する場合、回復量は、</p>

<p><span class="formula">20 + trunc(20 * 「0～63の乱数」 / 256)</span></p>

<p>で求められるので、最大値が24、最小値が20である。<br>
最終編オルステッド主人公時では、この結果が4倍になる。つまり、</p>

<p><span class="formula">20 * 4 + trunc(20 * 4 * 「0～63の乱数」 / 256)</span></p>

<p>最大値が80、最小値が99となる。<br>
O・ディオが強くなったという訳ではないのに回復量が上がっているのは、計算式が違うからなのである。</p>

<h4 id="level">ダメージ量とレベルについて</h4>

<p><span class="formula">max()</span>や<span class="formula">min()</span>の例としてもうひとつ、ダメージ量計算式について少し詳しく説明する。<br>
ダメージ量計算式は、先に紹介したとおり、</p>

<p><span class="formula" style="word-break: keep-all;overflow-wrap: break-word;">(<span style="font-weight:bold;color:red;">trunc</span><span style="color:#6c6c75;">(</span>(<wbr><span style="font-weight:bold;color:red;">trunc</span>(<wbr>min<span style="color:#6c6c75;">(</span><wbr>max((8+技LV+自LV-敵LV),1)<wbr>,24<span style="color:#6c6c75;">)</span><wbr>*LV差係数<span style="font-weight:bold;color:red;">/</span>8)<wbr>+(自能力値*係数))*<wbr><span style="font-weight:bold;color:red;">trunc</span>((255-敵能力値)<span style="font-weight:bold;color:red;">/</span>2)<span style="font-weight:bold;color:red;">/</span>256<span style="color:#6c6c75;">)</span>*2<wbr>+攻撃力)<wbr>*乱数(1～1.25)</span></p>

<p>という、一見してとてもわかりにくい計算方法となっている。<br>
<span class="formula">max()</span>と<span class="formula">min()</span>がいきなり登場していることも原因かもしれない。<br>
なぜ、わざわざ「2つの値を比べて大きい方を採用」などという計算をするのかは、実際に計算をしてみるとわかる。<br>
ここでは、高原日勝の「Ｆシュタイナー」を例に説明する。</p>

<p>「Ｆシュタイナー」のダメージ量は、高原の「知」が自能力値、敵側の「体」が敵能力値として依存する。<br>
技LVは2、LV差係数は80、係数は1/2（このため、「<span class="formula">(自能力値*係数)</span>」の計算も「<span class="formula">trunc(自能力値*係数)</span>」としなければならない）、攻撃力に依存しない。<br>
高原の「知」はレベルアップで上がらず、25のままなので、装備補正しない限り変動しない。<br>
つまり装備を変えなければ、レベルアップで影響するのは「自LV」だけ、ということになる。</p>

<p>では「Ｆシュタイナー」を、最終編の鍵のダンジョンにどのレベルでも登場する影、そしてラストボスのピュアオディオに正面から当てた場合、高原のレベルを変えていくと、ダメージ量はどうなるだろうか？<br>
影のレベルは9、「体」は20で、ピュアオディオのレベルは30、「体」は170。<br>
乱数を考慮せず（つまり乱数を1とする）、ダメージ量を計算した場合、高原のレベルを2から上げていくと、以下のようになる（レベル50以上は、レベル49の値と同じなので省略）</p>

<table style="font-size: smaller;">
<thead>
	<tr><th>高原の<br>レベル</th><th>影</th><th>ピュア<br>オディオ</th><th>高原の<br>レベル</th><th>影</th><th>ピュア<br>オディオ</th></tr>
</thead>
<tbody>
	<tr><td>2</td><td>38</td><td>6</td><td>26</td><td>230</td><td>22</td></tr>
	<tr><td>3</td><td>46</td><td>6</td><td>27</td><td>230</td><td>26</td></tr>
	<tr><td>4</td><td>56</td><td>6</td><td>28</td><td>230</td><td>30</td></tr>
	<tr><td>5</td><td>64</td><td>6</td><td>29</td><td>230</td><td>32</td></tr>
	<tr><td>6</td><td>74</td><td>6</td><td>30</td><td>230</td><td>36</td></tr>
	<tr><td>7</td><td>84</td><td>6</td><td>31</td><td>230</td><td>40</td></tr>
	<tr><td>8</td><td>92</td><td>6</td><td>32</td><td>230</td><td>42</td></tr>
	<tr><td>9</td><td>102</td><td>6</td><td>33</td><td>230</td><td>46</td></tr>
	<tr><td>10</td><td>110</td><td>6</td><td>34</td><td>230</td><td>48</td></tr>
	<tr><td>11</td><td>120</td><td>6</td><td>35</td><td>230</td><td>52</td></tr>
	<tr><td>12</td><td>128</td><td>6</td><td>36</td><td>230</td><td>56</td></tr>
	<tr><td>13</td><td>138</td><td>6</td><td>37</td><td>230</td><td>58</td></tr>
	<tr><td>14</td><td>148</td><td>6</td><td>38</td><td>230</td><td>62</td></tr>
	<tr><td>15</td><td>156</td><td>6</td><td>39</td><td>230</td><td>66</td></tr>
	<tr><td>16</td><td>166</td><td>6</td><td>40</td><td>230</td><td>68</td></tr>
	<tr><td>17</td><td>174</td><td>6</td><td>41</td><td>230</td><td>72</td></tr>
	<tr><td>18</td><td>184</td><td>6</td><td>42</td><td>230</td><td>76</td></tr>
	<tr><td>19</td><td>192</td><td>6</td><td>43</td><td>230</td><td>78</td></tr>
	<tr><td>20</td><td>202</td><td>6</td><td>44</td><td>230</td><td>82</td></tr>
	<tr><td>21</td><td>212</td><td>6</td><td>45</td><td>230</td><td>82</td></tr>
	<tr><td>22</td><td>220</td><td>10</td><td>46</td><td>230</td><td>82</td></tr>
	<tr><td>23</td><td>230</td><td>12</td><td>47</td><td>230</td><td>82</td></tr>
	<tr><td>24</td><td>230</td><td>16</td><td>48</td><td>230</td><td>82</td></tr>
	<tr><td>25</td><td>230</td><td>20</td><td>49</td><td>230</td><td>82</td></tr>
</tbody>
</table>

<p>グラフにするとわかりやすいだろう。</p>

<div class="modal-set">
	<div class="imgbox"><a href="img/damage_calc.png" class="modal-link">
		<img src="img/damage_calc.png" alt="ダメージ量グラフ（Ｆシュタイナー）" class="thumbnail"><span class="imgboxico"><img alt="zoom_in" src="icon/mark_zoom_in.svg" width="24px"></span></a>
	</div>
</div>

<p>ピュアオディオへのダメージ量がわかりやすいが、<br>
「味方キャラのレベルが、敵に対して低すぎる場合でも、ダメージ量は最低限の一定の値は出せるようになっている」<br>
「ある程度のレベルからは、レベルを上げるとダメージ量も増える」<br>
「味方キャラのレベルが、敵に対して高すぎると、ダメージ量が頭打ちになり、一定の値以上出せなくなる」<br>
という調整が入っていることがわかる。<br>
影は最終編序盤から戦える敵なので、味方のレベルが低い時でも、「レベルを上げるとダメージ量も増える」状態が続くのだが、それもレベル23までで、それより味方のレベルを上げてもダメージ量は増えなくなる。</p>

<p>ややこしい計算式は、味方と敵との戦力差を補正するために配慮された結果、ということになるのだろう。</p>

<p>「ある程度のレベルからは、レベルを上げるとダメージ量も増える」の部分だが、計算値だけ見るとおかしな増え方をしているように見える。<br>
ピュアオディオへのダメージ量だと、レベルを1上げたら2増えたり、4増えたりと不規則に見えなくもない。<br>
だがグラフを見るとほぼ直線、つまりレベルとダメージ量が比例して増えている。<br>
理由は、ダメージ量は小数点以下を切り捨てながら計算しているため。<br>
ピュアオディオ相手のダメージ量は、</p>

<p><span class="formula" style="word-break: keep-all;overflow-wrap: break-word;">ダメージ量 = TRUNC((TRUNC(MIN(MAX((8+2+高原のレベル-30),1),24)*80/8)<wbr>+TRUNC(25*0.5))*<wbr>TRUNC((255-170)/2)/256)*2</span></p>

<p>このようになり、レベルとダメージ量が比例して増える部分は、<span class="formula">MIN()</span>や<span class="formula">MAX()</span>の計算で「<span class="formula">8+2+高原のレベル-30</span>」が採用されているため、</p>

<p><span class="formula" style="word-break: keep-all;overflow-wrap: break-word;">ダメージ量 = TRUNC((TRUNC(8+2+高原のレベル-30)*80/8)<wbr>+TRUNC(25*0.5))<wbr>*TRUNC((255-170)/2)/256)*2</span></p>

<p>このようになっている。<br>
<span class="formula">TRUNC</span>を外し、小数点以下切り捨てを行わずに計算してみると、</p>

<p><span class="formula" style="word-break: keep-all;overflow-wrap: break-word;">ダメージ量 = ((8+2+高原のレベル-30)*80/8+25*0.5)<wbr>*((255-170)/2)/256*2</span></p>

<p>ダメージ量を <span class="formula" style="font-style: italic;">y</span> 、高原のレベルを <span class="formula" style="font-style: italic;">x</span> として計算すると、</p>

<p><span class="formula"><span style="font-style: italic;">y</span> = 850/256<span style="font-style: italic;">x</span> - 31875/512</span></p>

<p>傾きが<span class="formula">850/256</span>、切片が<span class="formula">-31875/512</span>となる一次関数である（中学校の数学では一次関数 <span class="formula"><span style="font-style: italic;">y</span> = <span style="font-style: italic;">ax</span> + <span style="font-style: italic;">b</span></span> の形で習うだろう）。<br>
つまり、実際には、「高原のレベルが1上がると850/256（約3.32）ずつダメージ量が増える」のであるが、途中の小数点以下切り捨て処理のために、2増えたり4増えたりとバラバラになっているのである。</p>

<p>なお、敵から味方キャラへの攻撃の場合でも、レベル差でダメージ量が変わる。<br>
ピュアオディオの技「キャンセラレイ」は、攻撃される側の依存ステータスが「知」なので、上の例と同じく「知」が25のままの高原に対し、高原のレベルを変えながらダメージ量を計算すると以下のようになる。<br>
「キャンセラレイ」の技LVは15、LV差係数は68、自能力値依存なし（0で計算）。<br>
高原は「知」25、防御0で計算。<br>
レベル56以上は、レベル55の値と同じなので省略。</p>

<table style="font-size: smaller;">
<thead>
	<tr><th>高原の<br>レベル</th><th>キャンセラレイ</th><th>高原の<br>レベル</th><th>キャンセラレイ</th></tr>
</thead>
<tbody>
	<tr><td>2</td><td>182</td><td>29</td><td>182</td></tr>
	<tr><td>3</td><td>182</td><td>30</td><td>174</td></tr>
	<tr><td>4</td><td>182</td><td>31</td><td>168</td></tr>
	<tr><td>5</td><td>182</td><td>32</td><td>158</td></tr>
	<tr><td>6</td><td>182</td><td>33</td><td>152</td></tr>
	<tr><td>7</td><td>182</td><td>34</td><td>144</td></tr>
	<tr><td>8</td><td>182</td><td>35</td><td>136</td></tr>
	<tr><td>9</td><td>182</td><td>36</td><td>128</td></tr>
	<tr><td>10</td><td>182</td><td>37</td><td>122</td></tr>
	<tr><td>11</td><td>182</td><td>38</td><td>114</td></tr>
	<tr><td>12</td><td>182</td><td>39</td><td>106</td></tr>
	<tr><td>13</td><td>182</td><td>40</td><td>98</td></tr>
	<tr><td>14</td><td>182</td><td>41</td><td>90</td></tr>
	<tr><td>15</td><td>182</td><td>42</td><td>82</td></tr>
	<tr><td>16</td><td>182</td><td>43</td><td>76</td></tr>
	<tr><td>17</td><td>182</td><td>44</td><td>68</td></tr>
	<tr><td>18</td><td>182</td><td>45</td><td>60</td></tr>
	<tr><td>19</td><td>182</td><td>46</td><td>52</td></tr>
	<tr><td>20</td><td>182</td><td>47</td><td>44</td></tr>
	<tr><td>21</td><td>182</td><td>48</td><td>36</td></tr>
	<tr><td>22</td><td>182</td><td>49</td><td>30</td></tr>
	<tr><td>23</td><td>182</td><td>50</td><td>22</td></tr>
	<tr><td>24</td><td>182</td><td>51</td><td>14</td></tr>
	<tr><td>25</td><td>182</td><td>52</td><td>6</td></tr>
	<tr><td>26</td><td>182</td><td>53</td><td>6</td></tr>
	<tr><td>27</td><td>182</td><td>54</td><td>6</td></tr>
	<tr><td>28</td><td>182</td><td>55</td><td>6</td></tr>
</tbody>
</table>

<div class="modal-set">
	<div class="imgbox"><a href="img/damage_calc2.png" class="modal-link">
		<img src="img/damage_calc2.png" alt="ダメージ量グラフ（キャンセラレイ）" class="thumbnail"><span class="imgboxico"><img alt="zoom_in" src="icon/mark_zoom_in.svg" width="24px"></span></a>
	</div>
</div>

<p>このように上限値と下限値があるが、レベル29以下ではレベルでダメージ量の変動がない。<br>
つまり、通常の最終編クリアレベル帯あたりまでは、攻撃される側のレベルではダメージ量は変化しない。<br>
「キャンセラレイ」のダメージ量を抑えるためには、装備で防御や「知」の値を上げることが重要である、ということもわかる。</p>

<h3 id="03">乱数</h3>

<p>乱数はランダムな値のことである。ということは特にいうまでもないだろうが、コンピュータゲームでは乱数を計算して作るので、本当の意味でランダムではなく「ランダムに見える」擬似的な乱数であり、本作では乱数を、<br>
漸化式 <span class="formula">An = (A(n-3) * 256 + A(n-4) ) / 13) % 256</span><br>
という計算式で作っている、とのことである。<br>
※上の式は<a href="https://rodgersia.ninpou.jp/livealive/sonohoka.txt" target="_blank">rodgersia.ninpou.jp/livealive/sonohoka.txt</a>からそのままコピペしたが、カッコの数が合わないようである。<br>おそらく実際には<span class="formula">An = ( (A(n-3) * 256 + A(n-4) ) / 13) % 256</span>だろう。</p>

<p>途中に割り算があるので、厳密には、<br>
<span class="formula">An = trunc( (A(n-3) * 256 + A(n-4) ) / 13) % 256</span><br>
である。<br>
最後に「<span class="formula">% 256</span>」を行っているため、乱数は常に「256で割った余り」、つまり0から255の間の値ということになる。</p>

<p>※漸化式の場合、数学的な表記を用いると、<br>
<span class="formula"><span style="font-style: italic;"></span>A<sub style="font-style: italic;">n</sub> = ( (<span style="font-style: italic;">A</span><sub style="font-style: italic;">n</sub><sub> - 3</sub> * 256 + <span style="font-style: italic;">A</span><sub style="font-style: italic;">n</sub><sub> - 4</sub> ) / 13) % 256</span><br>
のように斜体や下付き文字を使う。<br>
少なくとも下付き文字を使わないと誤解を招くので、本攻略では以降、下付き文字を使用する。</p>

<p>漸化式は高等学校の数学あたりで習う、数列を計算する式のこと。<br>
数列を作る各数字に、「<span class="formula">A<sub>1</sub></span>, <span class="formula">A<sub>2</sub></span>, <span class="formula">A<sub>3</sub></span>, <span class="formula">A<sub>4</sub></span>, ……」と番号を振った時にどういう規則性があるか？　という問題を解くと漸化式が求められる。<br>
たとえば奇数が並ぶ数列「<span class="formula">1, 3, 5, 7, 9 ……</span>」は、「初期値が1で、次からは2ずつ増えていく等差数列」であるから、漸化式だと、</p>

<div class="formula">A<sub>n+1</sub> = A<sub>n</sub> + 2<br>
（A<sub>1</sub> = 1, nは自然数)</div>

<p>と、なる。<br>
この数列ではランダムな数字をまったく生み出せていないことは、誰の目にも明らかである。<br>
そもそも、漸化式は計算式なので、一定の決まった数字を生み出すことしかできない。<br>
だが、「一見ランダムに見える数字を生み出す」ように漸化式をいろいろと改造してきた先達もいるのである。<br>
<a href="https://ja.wikipedia.org/wiki/%E7%B7%9A%E5%BD%A2%E5%90%88%E5%90%8C%E6%B3%95" target="_blank">線形合同法 - Wikipedia</a><br>
もそのひとつで、擬似乱数列を生成するための漸化式である。<br>
線形合同法では擬似乱数生成に漸化式</p>

<div class="formula">X<sub>n+1</sub> = ( A * X<sub>n</sub> + B ) mod M<br>
（A、B、Mは定数、M&gt;A、M&gt;B、A&gt;0、B&#x2265;0）</div>

<p>が用いられている。<br>
<span class="formula">mod</span>は剰余演算子のことであり、上の<a href="#01">演算子（計算記号）</a>で記した通り、剰余演算子の<span class="formula">%</span>も<span class="formula">mod</span>も同じ意味である。<br>
本作の<br>
<span class="formula">A<sub>n</sub> = ( (A<sub>n-3</sub> * 256 + A<sub>n-4</sub> ) / 13) % 256</span><br>
と比較すると、形式が似ていることがわかる。<br>
ただし線形合同法では、<span class="formula">X<sub>n+1</sub></span>の計算に数列の1つ前の値<span class="formula">X<sub>n</sub></span>を使っていることに対し、本作での計算式は、<span class="formula">A<sub>n</sub></span>の計算に数列の3つ前の値<span class="formula">A<sub>n-3</sub></span>と4つ前の値<span class="formula">A<sub>n-4</sub></span>を使うことで、より規則性がなさそうな、ランダムっぽい数値が出力されるようにしているのだろう。</p>

<p>本作の<br>
<span class="formula">A<sub>n</sub> = ( (A<sub>n-3</sub> * 256 + A<sub>n-4</sub> ) / 13) % 256</span><br>
だと、<span class="formula">A<sub>n</sub></span>を求めるために、数列の3つ前の値「<span class="formula">A<sub>n-3</sub></span>」及び、数列の4つ前の値「<span class="formula">A<sub>n-4</sub></span>」が必要である。<br>
つまり新たな乱数を生成する時に、直前に作った乱数4個を記録しておく必要がある。<br>
最初に計算して作る乱数値、つまり<span class="formula">A<sub>5</sub>（n = 5）</span>の計算には、本作を起動した時点で決まっている<span class="formula">A<sub>1</sub>, A<sub>2</sub>, A<sub>3</sub>, A<sub>4</sub>（n = 1～4）</span>が使われているということになる（ただし筆者には<span class="formula">A<sub>1</sub>～A<sub>4</sub></span>が実際にいくつなのかはわからない。ゲーム内部で設定されているはずである）。<br>
<span class="formula">A<sub>5</sub></span>の生成は、<br>
<span class="formula">A<sub>5</sub> = trunc( (A<sub>2</sub> * 256 + A<sub>1</sub> ) / 13) % 256</span><br>
であり、生成した時点で<span class="formula">A<sub>1</sub></span>がゲーム内の記録から削除される、ということになる。<br>
本作では、マップ上にいる時、この乱数生成計算が、1フレーム、つまり1/60秒ごとに行われている。つまり1秒間に60回、乱数生成の計算式を計算し新たな乱数を生み出し続けているのである。</p>

<p>乱数はセーブデータには保存されず、リセットすると初期値<span class="formula">A<sub>1</sub>～A<sub>4</sub></span>から再び計算開始になる。<br>
バーチャルコンソール版での「まるごと保存」は、乱数を含めて保存される。</p>

<p>戦闘においては、ドロップアイテムの有無は戦闘開始時の乱数で決まり、戦闘中の行動ではドロップ率は変化しない。<br>
戦闘中でもセーブが可能なバーチャルコンソール版で戦闘終了直前に「まるごと保存」し、「まるごと復元」を繰り返して敵を倒し続けても、敵がアイテムをドロップするかどうか、また、どのアイテムをドロップするかが変わることはない。</p>

<h5>おまけ</h5>

<p>試しにいくつかのプログラミング言語で、<span class="formula">A<sub>1</sub>, A<sub>2</sub>, A<sub>3</sub>, A<sub>4</sub></span>に仮値として<span class="formula">1, 2, 3, 4</span>を当てはめ、100回分の乱数を作ってみた。<br>
オンラインでプログラムを実行できるpaiza.IOで公開している。</p>

<ul>
	<li><a href="https://paiza.io/projects/e/3TeNa18K2-uS3keyz3IY-g" target="_blank">Python3</a></li>
	<li><a href="https://paiza.io/projects/e/O66IZz-UtX3U3kGRyn_RRQ" target="_blank">JavaScript</a></li>
	<li><a href="https://paiza.io/projects/e/Gal45dFMJ93wSgjIQ4beyw" target="_blank">Go</a></li>
	<li><a href="https://paiza.io/projects/e/X6gjKALETDm7v0Q9FeOOKw" target="_blank">Rust</a></li>
	<li><a href="https://paiza.io/projects/e/uf5WFcbgwCQSnjql-asXXQ" target="_blank">C#</a></li>
	<li><a href="https://paiza.io/projects/e/WA4_jojxREyBLG5R_GGJUA" target="_blank">Java</a></li>
	<li><a href="https://paiza.io/projects/e/yfn2a_GUPw4Q6-nWrdCwuw" target="_blank">Ruby</a></li>
	<li><a href="https://paiza.io/projects/e/zW7E2P-IGKPKB3QiIkXcjA" target="_blank">なでしこ3</a></li>
</ul>

<p>実行結果は以下の通り（もちろん、どのプログラミング言語でも同じ結果が出力される）。</p>

<div style="border: 1px solid gray; padding: 0.3em;word-break: keep-all;overflow-wrap: break-word;">初期値：<br>
[1, 2, 3, 4]<br>
出力された乱数：<br>
[39, 59, 79, 0, 140, 24, 6, 196, 227, 120, 20, 133, 76, 147, 60, 226, 84, 168, 103, 135, 242, 249, 106, 167, 58, 58, 224, 131, 122, 63, 36, 108, 226, 201, 81, 106, 135, 74, 45, 106, 187, 123, 42, 106, 132, 68, 42, 47, 69, 64, 160, 82, 241, 83, 91, 144, 117, 6, 26, 11, 127, 0, 218, 197, 9, 196, 56, 192, 20, 93, 201, 152, 40, 125, 192, 31, 160, 206, 113, 81, 228, 193, 67, 144, 234, 54, 24, 11, 57, 220, 218, 99, 240, 213, 174, 125, 116, 114, 170, 245]</div>

<p>試しに100個分出力したが、素人目には0～255からランダムな数値を生成しているようにしか見えない。ちょっと詳しく見てみても、たとえば奇数と偶数が規則正しく出現している様子もないし、数字の繰り返しも見られない。<br>
だが実際にはこの後も計算値を生成し続けると、どこかで同じ数値列が出てループするので、完全な乱数にはならないのである。<br>
よって、買い切りのコンピュータゲーム内での乱数ならともかく、この方法で暗号（暗証番号やログインパスワード）を作るのは禁物である。</p>

<h3 id="04">確率</h3>

<p>上のようにして生成された乱数は、本作でさまざまな計算に使われている。<br>
ダメージ量計算式では、最後に乱数をかけてダメージ量のブレを表現している。</p>

<div class="formula" style="word-break: keep-all;overflow-wrap: break-word;">(((min(max((8+技LV+自LV-敵LV),<wbr>1),<wbr>24)<wbr>*LV差係数/8<wbr>+(自能力値*係数))<wbr>*((255-敵能力値)/2)/256)<wbr>*2+攻撃力)<wbr>*乱数(1～1.25)<br>
（乱数幅は厳密には単発ダメージ*(0～63)/256）</div>

<p>この計算式では乱数が0～63と、上の計算式より数値の幅が狭いが、0～255の乱数を生成してから4で割った商を使うとか、乱数生成式の最後の「<span class="formula">% 256</span>」を「<span class="formula">% 64</span>」にするなどしているのだろう（と筆者は勝手に考えているが、実際は異なるかもしれない）。</p>

<p>能力値増減判定：<br>
<span class="formula">(0～63)の乱数&gt;敵LV+16</span></p>

<p>のような、バフ・デバフの成功確率の計算式があるが、これは<span class="formula">0～63</span>の間で生成された乱数と、「<span class="formula">敵LV+16</span>」の計算結果を比較して、<span class="formula">0～63</span>の間で生成された乱数の方が大きければ能力値増減が成功する、の意味である。<br>
例えば敵LVが5の敵に対しては、<span class="formula">敵LV+16 = 5 + 16 = 21</span>であるから、乱数が<span class="formula">22～63</span>だったらバフ・デバフが成功である。<br>
乱数は<span class="formula">0～63</span>、つまり64個の数字の中から1個が選ばれるので、乱数が<span class="formula">22～63</span>である確率は、<br>
<span class="formula">41÷64×100≒64.06％</span><br>
だいたい64％の確率でバフ・デバフが成功する。</p>

<p>※この確率計算で、割り算なのに<span class="formula">trunc</span>で小数点以下を切り捨てないのかと思われるかもしれないが、ゲーム内では、確率を計算する必要はないし計算してもいない、という点に注意。<br>
ゲーム内では乱数を算出して、判定式に合っているかどうかをチェックするだけである。<br>
上の確率計算は、あくまでもこのくらいの確率だという目安を計算してみたという話である。</p>

<h4 id="04_2">確率と試行回数</h4>

<p>これはゲーム内の計算とは直接関係ないおまけの話であるが、たまに誤解される確率と試行回数について記しておく。<br>
主にアイテムドロップ率に関する話になる。</p>

<p><span class="tri"><a href="base06.html#02">基礎知識 &gt; アイテム &gt; 敵が落とすアイテム</a></span>で、アイテムのドロップ率計算方法を説明してある。<br>
隠しボスのキングマンモーのドロップアイテム「コーラのビン」のドロップ率は<span class="formula">(1/4 + 1/8) * 15/16</span>と計算され、だいたい35％くらいである。<br>
と書くと、『3割くらいのドロップ率だから、3回戦えば1回は「コーラのビン」をドロップする』と考える方もいるようである。<br>
実際には3回戦えば必ず1回は「コーラのビン」をドロップするということはない。</p>

<p>たとえば、「当たりくじが1枚、ハズレくじが2枚、合計3枚のくじが入っている、中身が見えない箱からくじを1枚引く」時の当たりくじが出る確率は1/3（3割くらい）である。<br>
くじ引きの場合は、引いたくじは箱に戻さないから、3枚引けば必ず当たりくじが1枚出てくる（と同時に箱の中はカラになる）。<br>
だが、ゲームにおけるアイテムドロップ率は、「引いたくじを必ず箱の中に戻して、またくじを引く」行為である。<br>
確率は1/3だが、運が悪いと、何度チャレンジしても3枚の中から当たりくじが引けないこともあり得る。<br>
だが、何度も試すことで、当たる確率は上がっていく。</p>

<p>当たる確率が1/3なら、逆に、外れる確率は2/3である。<br>
ここからはキングマンモー戦を例にして、戦闘を1回行ってアイテムをドロップする確率は35％（35/100）、ドロップしない確率を65％（65/100）、と考えてみよう。<br>
戦闘2回で運悪く、2回連続でドロップしない確率は<span class="formula">65/100 * 65/100</span>で42％ほど。<br>
逆に言えば、残りの58％は、「戦闘1回目または2回目でドロップする確率」である。</p>

<p>「2回連続でドロップしない」の逆の現象（数学用語で「余事象」という。高校数学でも習うだろう）である「1回目または2回目でドロップする確率」を足すと100％になる理屈から、<br>
「10回連続でドロップしない」の余事象は「1回目または2回目または3回目……または10回目でドロップする確率」になる。つまり、10戦中最低1回はドロップする確率である。<br>
10回連続でドロップしない確率は<span class="formula" style="word-break: keep-all;overflow-wrap: break-word;">65/100 * 65/100<wbr> * 65/100 * 65/100<wbr> * 65/100 * 65/100<wbr> * 65/100 * 65/100<wbr> * 65/100 * 65/100</span>、つまり<span class="formula">(65/100)^10</span>で、1.3％ほどである。<br>
この余事象は<span class="formula">1 - (65/100)^10</span>で計算できるということなので、だいたい98.7％が「ドロップ率が35％の時、10戦中最低1回はドロップする確率」になる。<br>
キングマンモーと10回戦えば、98.7％の人が最低1回は「コーラのビン」を入手できる、ということになる。<br>
……1.3％の人は、運悪く10回も戦ったのに「コーラのビン」をドロップしないということになるが。</p>

<p>昨今はソーシャルゲームアプリにおいて、ガチャでの排出確率を元にガチャを何回回せばどれくらいの確率で当たるかといったことを、上のような計算で確認している方が増えているかもしれない。</p>

<h3 id="05">ビット演算</h3>

<p>ビット演算（<a href="https://ja.wikipedia.org/wiki/%E3%83%93%E3%83%83%E3%83%88%E6%BC%94%E7%AE%97" target="_blank">ビット演算 - Wikipedia</a>）は主にコンピュータで使われる演算方法で、データをビット列、つまり2進法で記した場合での演算である。<br>
行動順やターン、行動異常の諸々の計算で必要となるが、<span class="tri"><a href="battle03_2.html">戦闘関係 &gt; ターンや行動順の詳細</a></span>の中で解説しているので参照していただきたい。</p>

<p>ここでは、ターンや行動順の説明とは関係がないがビット演算の例として、敵のHPについて記す。</p>

<p>本作はゲーム内部ではすべてのデータが16進法で記されている。<br>
<a href="https://ja.wikipedia.org/wiki/%E5%8D%81%E5%85%AD%E9%80%B2%E6%B3%95" target="_blank">十六進法 - Wikipedia</a><br>
16進法は0～9,A,B,C,D,E,Fの16文字での数値の記述方法である。普段我々が使う10進法は、1の位は0～9までの10文字が使えるが、16進法だと16文字使える。<br>
更にいえば、コンピュータゲームの基本は2進法、つまり0か1のみで計算される。<br>
単純に数値の計算をするだけではなく、0をOFF、1をONと考えると、ゲームにおけるフラグ管理もできる。<br>
2進法の4ケタ分（0000～1111）は、16進法の1ケタ分、0～Fに対応しているので、記録するにも計算するにもコンピュータ側に都合が良い。</p>

<p>少し話が外れるが、16進法の2ケタ分（2文字分） = 2進法の8ケタ分のデータ容量を、1バイト（Byte）という。<br>
2進法の1文字分は1ビット（bit）分のデータになり、1バイト（Byte） = 8ビット（bit）ということになる。<br>
例えば、16進法2バイト分のデータ「1B 50」は2進法だと「00011011 01010000」であり、ON・OFFのみのデータなら16個分記録できる。<br>
本作は属性が16種（手・足・突・鋭・鈍・締・飛・背・火・水・風・土・精・善・悪・無）あるから、たとえばキャラ1人分の回避属性の有無を2バイト分のデータに格納できる、ということになる。<br>
ちなみに「1B 50」は、ハッシュの回避属性のデータである。<br>
以下表で「1」に設定されている属性が、ハッシュの回避属性（鋭・鈍・飛・背・水・土）に当たる。</p>

<table>
<tbody>
	<tr><th>属性</th><td>手</td><td>足</td><td>突</td><td><span style="font-weight:bold;">鋭</span></td><td><span style="font-weight:bold;">鈍</span></td><td>締</td><td><span style="font-weight:bold;">飛</span></td><td><span style="font-weight:bold;">背</span></td></tr>
	<tr><th>16進数1B</th><td>0</td><td>0</td><td>0</td><td><span style="font-weight:bold;">1</span></td><td><span style="font-weight:bold;">1</span></td><td>0</td><td><span style="font-weight:bold;">1</span></td><td><span style="font-weight:bold;">1</span></td></tr>
	<tr><th>属性</th><td>火</td><td><span style="font-weight:bold;">水</span></td><td>風</td><td><span style="font-weight:bold;">土</span></td><td>精</td><td>善</td><td>悪</td><td>無</td></tr>
	<tr><th>16進数50</th><td>0</td><td><span style="font-weight:bold;">1</span></td><td>0</td><td><span style="font-weight:bold;">1</span></td><td>0</td><td>0</td><td>0</td><td>0</td></tr>
</tbody>
</table>

<p>「ライブ・ア・ライブ」は「16メガ<span style="font-weight:bold;">ビット</span>ロムカセット」のスーパーファミコンソフトであるが、この「16メガ<span style="font-weight:bold;">ビット</span>」は「16,000,000ビット」のこと。バイトだと「2,000,000バイト」である。<br>
と、数字ばかり出されてもピンとこないかもしれないが、2,000,000バイトは2メガバイト（2MB）。<br>
現代のスマホで写真を撮影した場合の1～3枚分くらいの容量でしかない（画像ファイルとプログラムデータを比較するのは野暮かもしれないが）。<br>
ちなみにリメイク版「ライブアライブ」のSwitch版の容量は4.7GB。スーファミ版の2,350倍の容量である（ボイスデータなどリメイク版で追加された容量の大きめなデータが含まれるため、こちらも比較するのは野暮かもしれないが、これがコンピュータとゲーム機の進歩でもある）。</p>

<p>話を戻すが、ビット演算は、2進法で表記された0と1の文字列の操作をする計算として便利な方法になる。<br>
ビット演算についての説明は、論理演算も参考にしていただきたい。ビット演算は「ビット単位での論理演算」である。<br>
<a href="https://ja.wikipedia.org/wiki/%E8%AB%96%E7%90%86%E6%BC%94%E7%AE%97" target="_blank">論理演算 - Wikipedia</a><br>
論理演算は高校数学あたりで習うかもしれない。<br>
集合において「AまたはBまたはAかつB」を「論理和」、「AかつB」を「論理積」という……と書くとややこしいように見えるかもしれないが、例えば、中世編での攻略フラグを考えてみよう。<br>
「フラグ1：ハッシュがパーティにいる」「フラグ2：ブライオンを所持している」のふたつの論理積が満たされている場合のみ、魔王山の入口が開くようになっている……と、置き換えてみると良い。<br>
ビット演算の場合は2進法での「論理和」「論理積」を求めるので、「論理和」なら「AとBの数値のうち<span class="r">どちらかが</span>1なら1」という計算、「論理積」なら「AとBの数値のうち<span class="r">どちらも</span>1なら1」という計算である。</p>

<p>以上がビット演算に関する前置きである。<br>
ここから、本作の敵のHPについて説明する。</p>

<p>本作の敵のHPデータは、「2ケタの16進法」で記録されている。つまり8ビット分の容量を使っている。<br>
中世編のシングイーターは16進数のデータで「07」、10進数になおして7。<br>
幕末編の藩士は16進数のデータで「6E」、10進数になおして110、となる。</p>

<p>2ケタの16進法の最大値は「FF」であり、10進法だと255である。<br>
だが実際には、本作には256以上のHPを持つ敵もいる。<br>
先に述べた通り、16メガビットという限られた容量にデータを詰め込む上で、敵HPの記憶領域を8ビット以上取らないように工夫した結果と思われるが、実際には敵のHPを以下のように計算している。</p>

<p>敵のHPデータが16進数の「80」（10進数の「128」）未満であれば、データの数値をそのままHPとする。<br>
上でも記した通りに、藩士なら16進数のデータ「6E」は10進数になおして110であり、128未満だからそのままである。</p>

<p>敵のHPデータが16進数の「80」以上の時は、<br>
<span class="formula">(敵のHPデータ &amp; 127) * 16</span><br>
を、実際の敵のHPとする。</p>

<p>ここで出てきた「<span class="formula">&amp;</span>」は、「ビット演算における論理積を表す演算子」である。<br>
よって<span class="formula">敵のHPデータ &amp; 127</span>を計算する場合はまず、それぞれを2進数に変換する必要がある。<br>
ここでは、本作で一番高いHPの岩間さまやピュアオディオの敵のHPデータ「FF」を使ってみよう。<br>
つまり彼らのHPは2ケタの16進法の最大値に設定されている。<br>
16進数の「FF」は先に述べた通りに10進数の255である。そして10進数の255は、2進数だと「11111111」である。<br>
一方、10進数の127は、2進数だと「1111111」である。<br>
「11111111」と「1111111」の論理積は、「各位を比較して、どちらも1なら1」と計算する。<br>
下表で縦方向に見比べるとわかりやすい。</p>

<table>
	<tr><td>255の2進数</td><td><span class="mono">1<span class="r">1111111</span></span></td></tr>
	<tr><td>127の2進数</td><td><span class="mono">0<span class="r">1111111</span></span></td></tr>
	<tr><td>論理積</td><td><span class="mono">0<span class="r">1111111</span></span>（10進数だと127）</td></tr>
</table>

<p><span class="formula">255 &amp; 127</span>の答えは127であるから、</p>

<p><span class="formula">(敵のHPデータ &amp; 127) * 16 = 127 * 16 = 2032</span></p>

<p>となる。<br>
岩間さまやピュアオディオの最大HP2032は、上のように計算されているのである。</p>

<p>※敵のHPデータが16進数の「80」以上の時、と記したが、実際には、<span class="formula">(16進数の80 &amp; 127) * 16</span>の解は0であり、敵データにもHPが16進数の「80」と設定されている敵はいない。<br>
16進数の「88」以上でなければ0より大きい計算結果にならないので、実質、16進数の「88」以上の時の話になる。</p>

<p>他、HPが128以上の敵の一例を以下に記す。</p>

<table>
<thead>
	<tr><th>HPデータ<br>（16進数）</th><th>計算結果<br>（10進数）</th><th>敵</th></tr>
</thead>
<tbody>
	<tr><td>88</td><td>128</td><td>リン、<br>アヌビノフォビア、<br>ブラキオペルタ　など</td></tr>
	<tr><td>96</td><td>352</td><td>尾手　院王</td></tr>
	<tr><td>A4</td><td>576</td><td>Ｊ・イヤウケア</td></tr>
	<tr><td>BE</td><td>992</td><td>おーでぃーおー、<br>液体人間Ｗ１号、<br>キングマンモー　など</td></tr>
</tbody>
</table>

<p>本作の敵のHPを見てみると、HPが128以上に設定されている敵はかならず16の倍数になっているが、HPが128以上だと計算上必ず最後に16を掛け算しているためである。<br>
HP初期値は上のように1バイト分の領域を使って、スーパーファミコンのカセット内にプログラムデータとして記録されているのだが、戦闘中の現在HPは1～2032の間の値になる。戦闘中はダメージを受けたり回復したりするなど変動していくため、常に16の倍数にはならないから、上の計算方法では現在HPの値が表現できない。よって、戦闘中の現在HPは、2バイト分の容量を使ってメモリ（ゲーム内の計算値などを一時的に記録する記憶装置のこと。スーパーファミコン本体に内蔵されている）に記録される。</p>

<p>なお、HP以外のステータス（レベル、力、体、速、知）は最大値が255以下なので、素の16進数データがそのまま敵のステータスとして使用されている。</p>

<p>ちなみに、味方キャラの初期HPも同じ方法で計算されている。<br>
初期HPが128以上のキャラはすべて、初期HPが16の倍数になっている。<br>
味方キャラがレベルアップするとHPも増えていくため、「現在の味方キャラの最大HP」は2バイト分の容量を使ってメモリに保存し、セーブした時にはゲームソフト内のメモリに保存される（このメモリはゲームソフト内のコイン形電池を電源としている。いわゆるバッテリーバックアップ）。</p>

<p>さらなる余談だが、最終編でオルステッドを主人公にすると、各シナリオのラストボスを操作することになり、戦闘終了後にメニュー画面でオルステッドの装備画面を確認すると、レベルとHPが直前のボスのステータスそのままになっている、というバグがある。<br>
「現在の味方キャラの最大HP」は2バイト分の容量を使ってメモリに保存しているが、おそらく戦闘終了時に、「現在の味方キャラの最大HPとレベル」が、そのままメニュー画面の味方のHPとレベルに書き込まれる仕組みがあるのだろう。<br>
他シナリオであれば、フィールドでの操作キャラと、戦闘時の操作キャラは同一キャラになるから、戦闘終了時のHPのデータをメニュー画面のHPのデータにそのまま書き込んでも問題は起こらない。<br>
だが最終編オルステッド主人公は、フィールドではオルステッドを操作、バトルでは各シナリオのボスを操作、と別キャラを操作することになるため、このような現象が起こるのだと思われる。<br>
なお、ブリキ大王操作時については、実はブリキ大王は敵キャラとしてデータに登録されているらしく、ブリキ大王での戦闘終了後にメニュー画面のアキラのステータスがブリキ大王の値に上書きされることはない。</p>

<div class="foot"><a href="index.html"><span class="button">&#9650;目次</span></a></div>

</div>
</div>

<div id="leftcolumn">
<div class="innertube">

<!-- sidebar -->

<script>let arrowOn=false;</script>
<script src="../js/modal.min.js?20250722"></script>

<div class="accordion">

<div id="google_search">
</div>
<script src="../js/gsearch.js"></script>

<div class="option">
<input type="checkbox" id="toggle1" class="toggle">
<label class="title" for="toggle1" style="color: #5c6266; background: #D8DEE9;">基礎知識</label>
<div class="content">
<p>基礎知識</p>
	<ul>
		<li><a href="base01.html">基本操作とシナリオ</a></li>
		<li><a href="base07.html">メニュー画面</a></li>
		<li><a href="base02.html">データセーブ</a></li>
		<li><a href="base03.html">装備</a></li>
		<li><a href="base04.html">ステータス</a></li>
		<li><a href="base05.html">隊形</a></li>
		<li><a href="base06.html">アイテム</a></li>
	</ul>
<p>戦闘関係</p>
	<ul>
		<li><a href="battle00.html">戦闘の基本</a></li>
		<li><a href="battle01.html">エンカウント</a></li>
		<li><a href="battle02.html">向き</a></li>
		<li><a href="battle03.html">ターン</a></li>
		<li><a href="battle04.html">技（その1）</a></li>
		<li><a href="battle04_2.html">技（その2）</a></li>
		<li><a href="battle05.html">状態異常</a></li>
		<li><a href="battle06.html">ステータス増減</a></li>
		<li><a href="battle07.html">フィールドダメージ</a></li>
		<li><a href="battle08.html">経験値</a></li>
		<li><a href="battle09.html">レベルとステータス上昇</a></li>
		<li><a href="battle10.html">回避属性</a></li>
		<li><a href="battle11.html">行動異常</a></li>
		<li><a href="battle12.html">BREAK DOWN</a></li>
		<li><a href="battle13.html">戦闘テクニック</a></li>
		<li><a href="program.html">プログラミング関係表記・解説</a></li>
	</ul>
</div>
</div>

<div class="option">
<input type="checkbox" id="toggle2" class="toggle">
<label class="title" for="toggle2" style="color: #FFF; background: #734fab;" >幕末編</label>
<div class="content">
<ul>
	<li><a href="bakumatsu/index.html">幕末編トップページ</a></li>
	<li><a href="bakumatsu/kouryaku01.html">基本の攻略</a></li>
	<li><a href="bakumatsu/0nin.html">0人斬り（不殺）</a></li>
	<li><a href="bakumatsu/100nin.html">100人斬り</a></li>
	<li><a href="bakumatsu/boss.html">隠しボス</a></li>
	<li><a href="bakumatsu/nukenin.html">抜け忍バッドエンド</a></li>
	<li><a href="bakumatsu/meishou.html">敵名称一覧</a></li>
	<li><a href="bakumatsu/map.html">尾手城マップ一覧</a></li>
</ul>
</div>
</div>

<div class="option">
<input type="checkbox" id="toggle3" class="toggle">
<label class="title" for="toggle3" style="color: #FFF; background: #2fc4fa;" >近未来編</label>
<div class="content">
<ul>
	<li><a href="kinmirai/index.html">近未来編トップページ</a></li>
	<li><a href="kinmirai/kouryaku01.html">攻略</a></li>
	<li><a href="kinmirai/zako.html">ザコ敵戦闘</a></li>
	<li><a href="kinmirai/item.html">アイテム改造</a></li>
</ul>
</div>
</div>

<div class="option">
<input type="checkbox" id="toggle4" class="toggle">
<label class="title" for="toggle4" style="color: #FFF; background: #64BA02;" >原始編</label>
<div class="content">
<ul>
	<li><a href="genshi/index.html">原始編トップページ</a></li>
	<li><a href="genshi/kouryaku01.html">攻略</a></li>
	<li><a href="genshi/boss.html">隠しボス・キングマンモー</a></li>
	<li><a href="genshi/item.html">アイテム合成</a></li>
</ul>
</div>
</div>

<div class="option">
<input type="checkbox" id="toggle5" class="toggle">
<label class="title" for="toggle5" style="color: #FFF; background: #E38C00;" >西部編</label>
<div class="content">
<ul>
	<li><a href="seibu/index.html">西部編トップページ</a></li>
	<li><a href="seibu/kouryaku01.html">攻略</a></li>
	<li><a href="seibu/omake.html">15人と戦ってみる</a></li>
</ul>
</div>
</div>

<div class="option">
<input type="checkbox" id="toggle6" class="toggle">
<label class="title" for="toggle6" style="color: #FFF; background: #cc4d33;" >現代編</label>
<div class="content">
<ul>
	<li><a href="gendai/index.html">現代編トップページ</a></li>
	<li><a href="gendai/kouryaku01.html">攻略</a></li>
	<li><a href="gendai/watanabe.html">おまけ・ワタナベイベント</a></li>
	<li><a href="gendai/moribe.html">おまけ・森部を一番最後に倒す</a></li>
</ul>
</div>
</div>

<div class="option">
<input type="checkbox" id="toggle7" class="toggle">
<label class="title" for="toggle7" style="color: #FFF; background: #51635C;" >ＳＦ編</label>
<div class="content">
<ul>
	<li><a href="sf/index.html">ＳＦ編トップページ</a></li>
	<li><a href="sf/kouryaku01.html">攻略</a></li>
	<li><a href="sf/caps.html">キャプテンスクウェア攻略</a></li>
</ul>
</div>
</div>

<div class="option">
<input type="checkbox" id="toggle8" class="toggle">
<label class="title" for="toggle8" style="color: #FFF; background: #3b27b0;" >功夫編</label>
<div class="content">
<ul>
	<li><a href="kunfu/index.html">功夫編トップページ</a></li>
	<li><a href="kunfu/kouryaku01.html">攻略</a></li>
	<li><a href="kunfu/shugyo.html">修行について（＆技習得バグ）</a></li>
</ul>
</div>
</div>

<div class="option">
<input type="checkbox" id="toggle9" class="toggle">
<label class="title" for="toggle9" style="color: #FFF; background: #b59f14;" >中世編</label>
<div class="content">
<ul>
	<li><a href="chusei/index.html">中世編トップページ</a></li>
	<li><a href="chusei/kouryaku01.html">攻略</a></li>
	<li><a href="chusei/item.html">中世編→最終編 アイテム変化一覧</a></li>
</ul>
</div>
</div>

<div class="option">
<input type="checkbox" id="toggle10" class="toggle">
<label class="title" for="toggle10" style="color: #FFF; background: #919c93;" >最終編</label>
<div class="content">
<ul>
	<li><a href="saishu/index.html">最終編トップページ</a></li>
	<li><a href="saishu/chui01.html">注意点</a></li>
	<li><a href="saishu/nakama.html">仲間を集める</a></li>
	<li><a href="saishu/dungeon.html">ダンジョン攻略</a></li>
	<li><a href="saishu/boss.html">隠しボス攻略</a></li>
	<li><a href="saishu/last.html">ラストバトル</a></li>
	<li><a href="saishu/omake.html">おまけのやりこみ</a></li>
</ul>
</div>
</div>

<div class="option">
<input type="checkbox" id="toggle11" class="toggle">
<label class="title" for="toggle11" style="color: #2d3133; background: #D8DEE9;">データ集</label>
<div class="content">
<ul>
	<li><a href="data/index.html">データ集トップページ</a></li>
	<li><a href="data/chara01.html">キャラクター</a></li>
	<li><a href="data/atama.html">装備</a></li>
	<li><a href="data/item01.html">アイテム</a></li>
	<li><a href="data/enemy_bakumatsu.html">敵</a></li>
</ul>
</div>
</div>

<br>
<a href="../index.html" target="_blank" style="text-decoration:none;">
<div class="sidelink">リメイク版攻略へ</div>
</a>

</div>

<!-- sidebarここまで -->

<!-- socialButtons -->

<br>
<div class="sharelist">このページをシェアする</div>

<div class="social">
	<p><a href="#" target="_blank"><img src="../img/social_x.svg" alt="Xでシェアする" width="88"></a></p>
	<p><a href="#" target="_blank"><img src="../img/social_facebook.svg" alt="facebookでシェアする" width="88"></a></p>
	<p><a href="#" target="_blank"><img src="../img/social_hatena.svg" alt="hatenaでシェアする" width="88"></a></p>
	<p><a href="#" target="_blank"><img src="../img/social_line.svg" alt="Lineでシェアする" width="88"></a></p>
	<p><a href="#" target="_blank"><img src="../img/social_bluesky.svg" alt="Blueskyでシェアする" width="88"></a></p>
	<p><a href="#" target="_blank"><img src="../img/taitsu.svg" alt="タイッツーでシェアする" width="88"></a></p>
	<p><a href="#" target="_blank"><img src="../img/social_misskey.svg" alt="misskey.ioでシェアする" width="88"></a></p>
	<p><a href="#" target="_blank"><img src="../img/social_mastodon.svg" alt="mastodon.jpでシェアする" width="88"></a></p>
</div>
<script src="../js/social.min.js?20250624"></script>

<!-- socialButtonsここまで -->

<p id="top_arrow"><img src="img/arrow_circle_up.svg" class="gotop" alt="上へ"></p> 

</div>
</div>

<!-- ナビメニュー -->

<div class="navigation">
	<input type="checkbox" class="navigation__checkbox" id="nav-toggle">
	<label for="nav-toggle" class="navigation__button">
		<span class="navigation__icon" aria-label="toggle navigation menu"></span>
	</label>
	<div class="navigation__background"></div>
	<nav class="navigation__nav" role="navigation">
	<ul class="navigation__list">
		<li class="navigation__item"><a href="index.html"><label class="title_n2" style="color: #5c6266; background: #D8DEE9;">TOP</label></a></li>
		<li class="navigation__item"><a href="bakumatsu/index.html"><label class="title_n2" style="color: #FFF; background: #734fab;" >幕末編攻略</label></a></li>
		<li class="navigation__item"><a href="kinmirai/index.html"><label class="title_n2" style="color: #FFF; background: #2fc4fa;" >近未来編攻略</label></a></li>
		<li class="navigation__item"><a href="genshi/index.html"><label class="title_n2" style="color: #FFF; background: #64BA02;" >原始編攻略</label></a></li>
		<li class="navigation__item"><a href="seibu/index.html"><label class="title_n2" style="color: #FFF; background: #E38C00;" >西部編攻略</label></a></li>
		<li class="navigation__item"><a href="gendai/index.html"><label class="title_n2" style="color: #FFF; background: #cc4d33;" >現代編攻略</label></a></li>
		<li class="navigation__item"><a href="sf/index.html"><label class="title_n2" style="color: #FFF; background: #51635C;" >ＳＦ編攻略</label></a></li>
		<li class="navigation__item"><a href="kunfu/index.html"><label class="title_n2" style="color: #FFF; background: #3b27b0;" >功夫編攻略</label></a></li>
		<li class="navigation__item"><a href="chusei/index.html"><label class="title_n2" style="color: #FFF; background: #b59f14;" >中世編攻略</label></a></li>
		<li class="navigation__item"><a href="saishu/index.html"><label class="title_n2" style="color: #FFF; background: #919c93;" >最終編攻略</label></a></li>
		<li class="navigation__item"><a href="data/index.html"><label class="title_n2" style="color: #2d3133; background: #D8DEE9;">データ集</label></a></li>
	</ul>
	</nav>
</div>

<!-- ナビメニュー　ここまで -->

<div id="footer">
ライブ・ア・ライブ（SFC版） 攻略メモ帳
</div>

</div>
<script src="../js/smoothScroll.js?20250712"></script>
</body>
</html>
